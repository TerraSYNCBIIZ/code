<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraSYNC Hub - Granular Operational Blueprint</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #030712; color: #f9fafb; }
        .header-bg { background-image: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://www.greensightag.com/wp-content/uploads/2022/07/colorful-field-1536x864.jpg'); background-size: cover; background-position: center; }
        .highlight { color: #22c55e; }
        details > summary { list-style: none; cursor: pointer; transition: background-color 0.2s; }
        details > summary:hover { background-color: #1f2937; }
        details[open] summary .arrow { transform: rotate(90deg); }
        .task-checkbox { accent-color: #22c55e; }
        .details-link { color: #34d399; text-decoration: underline; font-style: italic; font-size: 0.8rem; }
    </style>
</head>
<body class="antialiased">

    <header class="header-bg text-white text-center py-20 px-4 border-b-4 border-green-600">
        <img src="https://raw.githubusercontent.com/Wesley-Pitts/TerraSync-Website/main/src/assets/logo-transparent.png" alt="TerraSYNC Logo" class="mx-auto mb-4 h-24">
        <h1 class="text-5xl font-extrabold tracking-tight">TerraSYNC Hub: Granular Operational Blueprint</h1>
        <p class="mt-4 text-xl max-w-3xl mx-auto text-gray-300">The definitive, hyper-specific 16-week tactical plan for building the TerraSYNC ecosystem.</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="tech-stack" class="mb-16">
            <h2 class="text-4xl font-bold text-center mb-10">Definitive Technology & Integration Stack</h2>
             <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Core Stack -->
                <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700 col-span-1 md:col-span-2 lg:col-span-1">
                    <h3 class="text-xl font-bold mb-3 highlight">Core Platform</h3>
                    <ul class="space-y-3 text-sm">
                        <li><strong>Frontend:</strong> React & Vite</li>
                        <li><strong>Backend:</strong> Google Firebase (Firestore, Auth, Functions)</li>
                        <li><strong>CI/CD & Hosting:</strong> Vercel & GitHub</li>
                        <li><strong>Billing:</strong> Stripe</li>
                    </ul>
                </div>
                <!-- Mower Integrations -->
                <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700">
                    <h3 class="text-xl font-bold mb-3 highlight">Robotic Mower Integrations</h3>
                     <ul class="space-y-3 text-sm">
                        <li><strong>Husqvarna:</strong> Fleet Services API</li>
                        <li><strong>KRESS:</strong> Commercial API</li>
                        <li><strong>Nexmow:</strong> API / Websocket Feed</li>
                        <li><strong>Korechi:</strong> API / Data Feed</li>
                         <li><strong>Firefly / Automower:</strong> Future Integration Target</li>
                    </ul>
                </div>
                <!-- Environmental Integrations -->
                <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700">
                    <h3 class="text-xl font-bold mb-3 highlight">Environmental System Integrations</h3>
                     <ul class="space-y-3 text-sm">
                        <li><strong>Irrigation:</strong> Toro Lynx & Rain Bird IQ Cloud APIs</li>
                        <li><strong>Drones:</strong> DJI Mavic Series & FlightHub API</li>
                         <li><strong>Soil Sensors:</strong> Standardized MQTT Ingestion via Cloud IoT Core</li>
                         <li><strong>Weather:</strong> OpenWeather One Call API</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="system-architecture" class="mb-16">
            <h2 class="text-4xl font-bold text-center mb-10">System Architecture Diagram</h2>
            <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700 flex justify-center">
                <div class="mermaid" style="width: 100%;">
graph TD
    subgraph "User & Client"
        WebApp("Web App<br>React/shadcn/ui")
    end

    subgraph "TerraSYNC Backend (Google Firebase)"
        Auth("Firebase Auth")
        Functions("Cloud Functions")
        Firestore("Firestore Database")
        Storage("Cloud Storage")
    end

    subgraph "AI Command Center (MCP)"
        Gemini("Vertex AI<br>Gemini Models")
    end

    subgraph "External Hardware & Services"
        MowerAPI("Mower APIs<br>(Husqvarna, KRESS, Nexmow, Korechi)")
        DroneAPI("DJI FlightHub API")
        IrrigationAPI("Irrigation APIs<br>(Toro, Rain Bird)")
        Sensors("Soil Sensors")
        WeatherAPI("OpenWeather API")
        StripeAPI("Stripe API")
    end

    WebApp -- "Login" --> Auth
    WebApp -- "User Actions" --> Functions

    Functions -- "API Commands" --> MowerAPI
    Functions -- "API Commands" --> DroneAPI
    Functions -- "API Commands" --> IrrigationAPI
    Functions -- "API Data" --> WeatherAPI
    Sensors -- "MQTT / WebSocket" --> Functions
    StripeAPI -- "Webhooks" --> Functions

    Functions -- "Updates State" --> Firestore
    Functions -- "Stores Files" --> Storage
    Functions -- "AI Queries" --> Gemini

    Gemini -- "Executes Functions<br>to Read DB" --> Functions

    Firestore -- "Real-time Data Stream" --> WebApp
                </div>
            </div>
        </section>

        <section id="architecture" class="mb-16">
            <h2 class="text-4xl font-bold text-center mb-10">Core Backend Architecture</h2>
            <div class="grid md:grid-cols-2 gap-8">
                 <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700">
                    <h3 class="text-xl font-bold mb-3 highlight">Serverless Functions & Data Flow</h3>
                     <p class="text-gray-400 text-sm mb-4">We will use Cloud Functions as the glue of our system. Data does not flow directly from hardware to the app.</p>
                     <ul class="space-y-3 text-sm text-gray-300">
                        <li><strong class="text-green-400">Hardware Polling:</strong> Scheduled functions will poll hardware APIs (e.g., Husqvarna Fleet Services) every minute for asset status.</li>
                        <li><strong class="text-green-400">Real-time Ingestion:</strong> For hardware supporting WebSockets or MQTT, a Cloud Function will maintain a persistent connection, listening for data.</li>
                        <li><strong class="text-green-400">State Synchronization:</strong> The function's job is to update the asset's document in Firestore. The frontend app listens *only* to Firestore, ensuring a single source of truth and a highly scalable, real-time experience without managing client-side connections to every device.</li>
                        <li><strong class="text-green-400">Command Proxy:</strong> When a user clicks "Start Mowing" in the app, it calls a secure Cloud Function, which then authenticates and forwards that command to the correct hardware API.</li>
                     </ul>
                </div>
                <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700">
                    <h3 class="text-xl font-bold mb-3 highlight">Integration Philosophy: Native vs. Linked</h3>
                     <p class="text-gray-400 text-sm mb-4">Our approach is to provide maximum value for day-to-day operations directly within the TerraSYNC Hub. For each piece of hardware:</p>
                     <ul class="space-y-3 text-sm text-gray-300">
                        <li><strong class="text-green-400">Native Functions:</strong> Core operations like Start, Stop, Check Status, and View Battery will be built directly into our interface for a seamless experience.</li>
                        <li><strong class="text-green-400">Linked Functions:</strong> For deep configuration, diagnostics, or firmware updates, we will provide a convenient, authenticated deep-link that takes the user directly to the relevant page in the manufacturer's native web or mobile app. This provides the best of both worlds.</li>
                     </ul>
                </div>
            </div>
        </section>
        
        <section id="dji-flow" class="mb-16">
            <h2 class="text-4xl font-bold text-center mb-10">DJI Drone Data & AI Integration Flow</h2>
            <div class="bg-gray-900 p-6 rounded-lg border-2 border-gray-700">
                <p class="text-center text-gray-400 mb-6">To integrate drone analytics, we will follow a specific data pipeline. This process ensures that high-resolution, geo-tagged data is collected, processed, and made actionable for our AI and users.</p>
                <div class="mermaid" style="width: 100%;">
sequenceDiagram
    participant Drone as DJI Mavic Drone
    participant Processing as 3rd Party / DJI Terra
    participant TerraSYNC as TerraSYNC Backend (Cloud Functions)
    participant Firestore
    participant WebApp as TerraSYNC Hub (Frontend)

    Drone->>Processing: Uploads Raw Imagery
    Processing-->>TerraSYNC: Webhook: "Map Ready" (provides data URL)
    TerraSYNC->>Processing: Fetches Processed Data (GeoTIFF)
    TerraSYNC->>Firestore: Stores Map Metadata & URL
    TerraSYNC-->>WebApp: Notifies of New Map Layer
    WebApp->>Firestore: Reads Map Metadata
    WebApp->>Cloud Storage: Loads GeoTIFF as Map Overlay
    TerraSYNC->>TerraSYNC: Analyzes GeoTIFF data per zone
    TerraSYNC->>Firestore: Updates Irrigation Zones with Drone Data
                </div>
            </div>
        </section>

        <section id="strategic-framework" class="mb-16">
            <h2 class="text-4xl font-bold text-center mb-10">Strategic & Business Framework</h2>
            <div class="space-y-4">
                
                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer">
                        <h3 class="text-2xl font-semibold text-white">1. Success Metrics & KPIs</h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                        <p class="text-sm text-gray-400 mt-4">To ensure our development efforts align with business objectives, we will track the following key performance indicators throughout the product lifecycle. These metrics define what "success" looks like for each phase.</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 text-sm">
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <h4 class="font-semibold text-green-400 mb-2">Phase 1: Core MVP & User Adoption</h4>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong>Daily Active Users (DAU):</strong> Target 80% engagement from pilot clients' key operational staff.</li>
                                    <li><strong>Asset Management Efficiency:</strong> Reduce time to add, locate, and view the status of an asset by 90% compared to manual methods.</li>
                                    <li><strong>Map Interaction Rate:</strong> At least 5 interactions (pan, zoom, click) per user session on average, indicating reliance on the map view.</li>
                                    <li><strong>User Satisfaction (CSAT):</strong> Achieve a CSAT score of 4.5/5 on core features like equipment and zone management.</li>
                                </ul>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <h4 class="font-semibold text-green-400 mb-2">Phase 2: Integration & Efficiency</h4>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong>API Reliability:</strong> Maintain >99.8% successful API calls (polling and commands) across all integrated hardware partners.</li>
                                    <li><strong>Scheduling Accuracy:</strong> Less than 5% deviation between scheduled tasks and actual completion times logged by technicians.</li>
                                    <li><strong>Technician Task Throughput:</strong> Increase the number of tasks a single technician can manage and complete per day by 25%.</li>
                                    <li><strong>Data Latency:</strong> Real-time asset location on the map must be updated in under 5 seconds from the hardware event.</li>
                                </ul>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg md:col-span-2">
                                <h4 class="font-semibold text-green-400 mb-2">Phase 3: Monetization & Intelligence</h4>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong>Trial-to-Paid Conversion Rate:</strong> Achieve a 20% conversion rate for users moving from a free trial to a paid subscription plan.</li>
                                    <li><strong>AI Query Success Rate:</strong> Ensure Gemini function calling correctly answers >90% of user queries about asset status and location without needing rephrasing.</li>
                                    <li><strong>Billing Integration Reliability:</strong> 100% accuracy in Stripe webhook processing for new subscriptions and cancellations.</li>
                                    <li><strong>Customer Acquisition Cost (CAC) vs. Lifetime Value (LTV):</strong> Establish an LTV:CAC ratio of at least 3:1 within the first 6 months post-launch.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer">
                        <h3 class="text-2xl font-semibold text-white">2. Go-to-Market & Rollout Strategy</h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                        <p class="text-sm text-gray-400 mt-4">Our launch is phased to gather feedback, ensure stability, and build momentum.</p>
                        <ul class="mt-4 space-y-4 text-sm">
                            <li class="flex items-start"><span class="text-green-400 font-bold mr-3 w-32">Internal Alpha<br>(Weeks 8-9)</span><span class="text-gray-300">The core development and leadership team will conduct rigorous, end-to-end testing of all Phase 0 and 1 features. Focus is on identifying bugs and validating core workflows.</span></li>
                            <li class="flex items-start"><span class="text-green-400 font-bold mr-3 w-32">Pilot Program<br>(Weeks 13-16)</span><span class="text-gray-300">Onboard 1-3 strategic clients with diverse hardware fleets. They get free access in exchange for structured feedback on features from Phases 0-2. This provides our first real-world validation and testimonials.</span></li>
                            <li class="flex items-start"><span class="text-green-400 font-bold mr-3 w-32">Limited Launch<br>(Month 5)</span><span class="text-gray-300">Post-Phase 3, we will launch to a select waitlist of customers. This allows us to test the billing system and scale our support processes in a controlled environment.</span></li>
                            <li class="flex items-start"><span class="text-green-400 font-bold mr-3 w-32">Full Public Launch<br>(Month 6)</span><span class="text-gray-300">Initiate broad marketing campaigns, open public sign-ups, and execute our full PR strategy. The platform is now considered fully live and operational.</span></li>
                        </ul>
                    </div>
                </details>

                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer">
                        <h3 class="text-2xl font-semibold text-white">3. Risk Assessment & Mitigation</h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                         <p class="text-sm text-gray-400 mt-4">A proactive approach to identifying and mitigating risks is critical for success.</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-6 text-sm">
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <h4 class="font-semibold text-red-400 mb-2">Technical Risks</h4>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong>Risk:</strong> Third-party hardware APIs are unreliable or have breaking changes.<br><strong>Mitigation:</strong> Build a resilient abstraction layer for each API with robust error handling, automated alerting for failures, and data caching to handle temporary outages.</li>
                                    <li><strong>Risk:</strong> Firestore queries become slow at scale.<br><strong>Mitigation:</strong> Implement disciplined data modeling, use denormalization where appropriate, and conduct regular performance audits on key queries. Index all queryable fields from day one.</li>
                                </ul>
                            </div>
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <h4 class="font-semibold text-yellow-400 mb-2">Operational Risks</h4>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong>Risk:</strong> Low user adoption due to resistance to change.<br><strong>Mitigation:</strong> Develop a comprehensive video-based onboarding program. Provide responsive in-app support and actively solicit user feedback during the pilot phase to tailor workflows.</li>
                                    <li><strong>Risk:</strong> Inaccurate GPS or sensor data from the field.<br><strong>Mitigation:</strong> Implement a data validation layer in our Cloud Functions to flag statistical anomalies. Allow for manual data correction in the UI.</li>
                                </ul>
                            </div>
                             <div class="bg-gray-800 p-4 rounded-lg md:col-span-2">
                                <h4 class="font-semibold text-blue-400 mb-2">Market Risks</h4>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong>Risk:</strong> A major competitor launches a similar, integrated platform.<br><strong>Mitigation:</strong> Differentiate aggressively on user experience, customer support, and the power of our AI Command Center. Build a strong brand and community through our pilot program.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center cursor-pointer">
                        <h3 class="text-2xl font-semibold text-white">4. Non-Functional Requirements (NFRs)</h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                        <p class="text-sm text-gray-400 mt-4">These define the quality, performance, and reliability standards of the platform.</p>
                        <div class="mt-4 grid md:grid-cols-2 gap-x-8 gap-y-4 text-sm">
                            <div><strong class="text-green-400">Performance:</strong> Core API responses must be &lt;200ms. Map view with 100 assets must load in &lt;3 seconds.</div>
                            <div><strong class="text-green-400">Scalability:</strong> System must support 1,000 concurrent assets reporting data per minute without performance degradation.</div>
                            <div><strong class="text-green-400">Security:</strong> Full compliance with OWASP Top 10. All data encrypted at rest (AES-256) and in transit (TLS 1.3). Regular dependency scanning and third-party penetration testing post-launch.</div>
                            <div><strong class="text-green-400">Reliability:</strong> Target 99.95% uptime, excluding scheduled maintenance. Automated backups of Firestore data taken daily.</div>
                            <div><strong class="text-green-400">Usability:</strong> A new admin user must be able to add their first piece of equipment and see it on the map in under 5 minutes.</div>
                            <div><strong class="text-green-400">Maintainability:</strong> Codebase must adhere to ESLint rules, have >80% test coverage for critical backend functions, and all PRs must pass automated checks before merging.</div>
                        </div>
                    </div>
                </details>
            </div>
        </section>

        <section id="roadmap-tracker">
            <h2 class="text-4xl font-bold text-center mb-12">16-Week Tactical Project Tracker</h2>
            <div class="space-y-6">

                <!-- Phase 0 -->
                <details open class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center">
                        <h3 class="text-2xl font-semibold text-white">Phase 0: Foundation & Core Infrastructure <span class="text-base font-medium ml-3 px-3 py-1 rounded-full bg-green-900 text-green-300">Weeks 1-2</span></h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Backend Foundation & CI/CD</summary>
                            <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As the platform owner, I need a secure, automated, and scalable backend environment set up from day one.</p>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Initialize Google Firebase Project (Firestore, Authentication, Cloud Functions).</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Configure Firebase Authentication to accept Email/Password and Google OAuth providers.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Deploy initial Firestore Security Rules to enforce that users can only access their own organization's data.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Set up GitHub repository and connect to Vercel for automated deployments from the `main` branch.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Configure Vercel environment variables for Firebase project keys.</span></label>
                            </div>
                        </details>
                         <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Frontend Foundation & User Authentication</summary>
                             <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                 <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As a user, I need to be able to sign up, log in, and see a clean, navigable application layout.</p>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build `LoginPage.tsx` with UI components for email/password and Google Sign-In.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build `SignUpPage.tsx` that captures user name, email, password, and creates a new Organization.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Create the main application shell: `AppLayout.tsx`.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build a persistent `Sidebar.tsx` with clear icons and links (Dashboard, Map, Equipment, etc.).</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build a `Header.tsx` to display organization name and a user profile dropdown with a logout option.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement protected routing that redirects any unauthenticated access attempts to the Login page.</span></label>
                             </div>
                        </details>
                    </div>
                </details>

                <!-- Phase 1 -->
                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                     <summary class="p-6 flex justify-between items-center">
                        <h3 class="text-2xl font-semibold text-white">Phase 1: Core MVP Operations <span class="text-base font-medium ml-3 px-3 py-1 rounded-full bg-green-900 text-green-300">Weeks 3-6</span></h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                     <div class="px-6 pb-6 border-t border-gray-700">
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Interactive Map & Live Tracking</summary>
                            <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As an Admin, I need a central map to view all properties and the real-time location of all assets.</p>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build the main `DashboardPage.tsx` to serve as the landing page after login.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Integrate Google Maps Platform SDK into a `MapView.tsx` component, making it the dashboard's central feature.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop a `PropertySelector.tsx` dropdown to switch the map's focus between different properties.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Create a listener to fetch all asset `livePosition` data from Firestore in real-time.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build a custom `AssetMarker.tsx` component to display on the map.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Asset markers must change color based on the asset's `status` field in Firestore (e.g., green for mowing, blue for idle, red for error).</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement an on-click popup for asset markers, showing the asset's name, status, and battery level.</span></label>
                            </div>
                        </details>
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Comprehensive Equipment Management</summary>
                             <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                 <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As an Admin, I need to manage my entire fleet, track their health, and assign them to my team.</p>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build `EquipmentListPage.tsx` with a `shadcn/ui` data table to display all assets.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement search and filter controls on the equipment table (filter by type, status, assigned technician).</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Create an `AddEquipmentForm.tsx` (modal or page) to register new assets in Firestore.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build `EquipmentDetailPage.tsx` to show all information for a single asset.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>On the detail page, add an "Assign Technician" feature to link an asset to a user.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build the `MaintenanceLog.tsx` component, showing a history of service events.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Add a form to the Maintenance Log to submit new entries (date, service description, technician, cost).</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build the `SupportTicketLog.tsx` component, showing a history of issues.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Add a form to the Support Ticket Log to create a new ticket (issue description, priority).</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Design deep-link to the Odoo instance from the created support ticket.</span></label>
                             </div>
                        </details>
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Zone & Employee Management</summary>
                             <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                 <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As an Admin, I need to define operational zones and manage my team's access and roles.</p>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build `ZoneEditor.tsx` using Google Maps drawing tools to create and edit polygonal zones on the map.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Save and retrieve zone boundaries as GeoJSON data in the corresponding `properties` document in Firestore.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build `EmployeeListPage.tsx` for viewing, adding, and removing users from an organization.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement logic to assign roles to users ('admin', 'manager', 'technician').</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Update Firestore security rules to restrict actions based on user roles (e.g., only admins can add new employees).</span></label>
                             </div>
                        </details>
                    </div>
                </details>
                
                <!-- Phase 2 -->
                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center">
                        <h3 class="text-2xl font-semibold text-white">Phase 2: Scheduling, Hardware Integration & Data Flow <span class="text-base font-medium ml-3 px-3 py-1 rounded-full bg-green-900 text-green-300">Weeks 7-12</span></h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                     <div class="px-6 pb-6 border-t border-gray-700">
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Master Scheduler & Technician View</summary>
                            <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As a Manager, I need a master schedule to manage all tasks. As a Technician, I need to see only my assigned tasks.</p>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Design and build `MasterScheduler.tsx` using a timeline/calendar library like FullCalendar.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement functionality to create, edit, and delete scheduled tasks (e.g., "Mow Zone A").</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement drag-and-drop assignment of tasks to specific assets and technicians on the calendar.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Create a simplified `TechnicianDashboard.tsx` that displays a simple list of "Today's Tasks" for the logged-in user.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Add a "Complete" button for technicians to mark tasks as done.</span></label>
                            </div>
                        </details>
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Hardware API Integration (Backend)</summary>
                             <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                 <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As a user, I need the platform to reliably connect to my equipment to pull data and send commands.</p>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop a scheduled Cloud Function to poll the Husqvarna Fleet Services API every 60 seconds for asset status. <a href="integrations/husqvarna.html" class="details-link ml-2">Docs</a></span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop a Cloud Function to maintain a persistent WebSocket connection to the Nexmow API for real-time data. <a href="integrations/nexmow.html" class="details-link ml-2">Docs</a></span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop a Cloud Function to handle polling and command proxying for the KRESS Commercial API. <a href="integrations/kress.html" class="details-link ml-2">Docs</a></span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop a Cloud Function to handle polling for the Korechi API. <a href="integrations/nexmow.html" class="details-link ml-2">Docs</a></span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build a "Command Proxy" Cloud Function that receives requests from the frontend (e.g., "Start Mowing") and sends the correctly formatted API call to the specific manufacturer's service.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement secure storage for third-party API keys and credentials (e.g., using Firebase Secret Manager).</span></label>
                             </div>
                        </details>
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Environmental Systems Integration & QA</summary>
                            <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As a user, I need data from drones, irrigation, and weather systems to make informed decisions.</p>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Integrate DJI FlightHub API to pull flight logs and metadata. <a href="integrations/dji.html" class="details-link ml-2">Docs</a></span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Integrate Toro Lynx and Rain Bird IQ Cloud APIs to fetch irrigation schedules and statuses. <a href="integrations/irrigation.html" class="details-link ml-2">Docs</a></span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Define and implement MQTT ingestion for standardized soil sensor data. <a href="integrations/sensors.html" class="details-link ml-2">Docs</a></span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Integrate OpenWeather One Call API to display current weather and forecasts on the dashboard.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Conduct live end-to-end hardware testing in a field environment to validate all API integrations and data flows.</span></label>
                            </div>
                        </details>
                    </div>
                </details>

                <!-- Phase 3 -->
                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center">
                        <h3 class="text-2xl font-semibold text-white">Phase 3: AI, Billing & Launch Readiness <span class="text-base font-medium ml-3 px-3 py-1 rounded-full bg-green-900 text-green-300">Weeks 13-16</span></h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                     <div class="px-6 pb-6 border-t border-gray-700">
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: AI Command Center (MCP) V1</summary>
                            <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As an Admin, I want to use a chatbot to ask questions about my assets and see the results visually.</p>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build the `AIChat.tsx` component with a text input and a message display area.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Create a dedicated Cloud Function to handle requests from the chat, which will call the Gemini API.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement Gemini function calling to query the Firestore database.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Define initial readable functions: `getAssetStatus(assetName)`, `findAssetLocation(assetName)`, `listAssetsByType(type)`.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>When the chatbot response references a specific asset, trigger a UI event to pan the map to and highlight that asset's marker.</span></label>
                                <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build a contextual `AssetCard.tsx` that appears in the chat log when an asset is discussed, showing its key details.</span></label>
                            </div>
                        </details>
                        <details class="mt-4 bg-gray-800 p-4 rounded-lg">
                            <summary class="font-semibold text-green-400">Epic: Billing & Launch Readiness</summary>
                             <div class="mt-2 pl-4 border-l-2 border-gray-600 space-y-2">
                                 <p class="text-sm text-gray-400 mb-2"><strong>User Story:</strong> As the platform owner, I need to launch the product securely and begin charging customers for access.</p>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build a `PricingPage.tsx` to display subscription tiers and features.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Integrate the Stripe React SDK and create a `CheckoutForm.tsx` component.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop a Cloud Function to act as a webhook handler for Stripe events (e.g., `checkout.session.completed`, `customer.subscription.deleted`).</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>The webhook must update the customer's `organization` document in Firestore with their subscription status.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement the Stripe Customer Portal to allow users to manage their own subscription.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Conduct final User Acceptance Testing (UAT) with a pilot client on a staging environment.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Perform and document a full security audit of the application, dependencies, and infrastructure.</span></label>
                                 <label class="flex items-center space-x-3 text-sm"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Create and publish initial customer onboarding and support documentation.</span></label>
                             </div>
                        </details>
                    </div>
                </details>
            </div>
        </section>

        <section id="next-steps" class="mt-20">
            <h2 class="text-4xl font-bold text-center mb-12">Beyond Launch: The Path to Dominance</h2>
             <div class="space-y-6">
                <!-- Phase 4 -->
                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center">
                        <h3 class="text-2xl font-semibold text-white">Phase 4: Platform Maturity & Ecosystem <span class="text-base font-medium ml-3 px-3 py-1 rounded-full bg-gray-800 text-gray-300">Months 5-9</span></h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                        <p class="text-gray-400 mt-4"><strong>Goal:</strong> Become the indispensable "single pane of glass" for turf management by expanding hardware integrations and deepening AI capabilities.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                               <h4 class="font-semibold text-green-400 mb-2">Epic: Multi-Vendor Abstraction Layer</h4>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Design a standardized command & data schema for mowers.</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Refactor existing integrations to use the new abstraction layer.</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Onboard 2 new mower brands using the abstraction layer.</span></label>
                            </div>
                            <div>
                               <h4 class="font-semibold text-green-400 mb-2">Epic: Actionable AI (MCP V2)</h4>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Train Gemini on hardware API docs for command generation.</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Enable conversational task creation (e.g., "Mow Zone C tomorrow at 8am").</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Integrate irrigation control into the MCP.</span></label>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- Phase 5 -->
                <details class="bg-gray-900 rounded-lg border-2 border-gray-700 overflow-hidden">
                    <summary class="p-6 flex justify-between items-center">
                        <h3 class="text-2xl font-semibold text-white">Phase 5: Predictive Operations & Enterprise Scale <span class="text-base font-medium ml-3 px-3 py-1 rounded-full bg-gray-800 text-gray-300">Months 10-16</span></h3>
                        <span class="arrow transition-transform duration-300">&#9654;</span>
                    </summary>
                    <div class="px-6 pb-6 border-t border-gray-700">
                        <p class="text-gray-400 mt-4"><strong>Goal:</strong> Solidify market leadership with true predictive capabilities and features designed for large, multi-location clients.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                               <h4 class="font-semibold text-green-400 mb-2">Epic: Predictive & Proactive AI</h4>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Train Vertex AI model on weather, soil, and event data.</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Generate proactive suggestions (e.g., "High heat forecast, recommend pre-emptive irrigation for Zone D").</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Automate task scheduling based on AI recommendations with user approval.</span></label>
                            </div>
                            <div>
                               <h4 class="font-semibold text-green-400 mb-2">Epic: Enterprise Fleet Management</h4>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Develop Global Dashboard for multi-property views.</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Implement organization-wide analytics and reporting.</span></label>
                               <label class="flex items-center space-x-3"><input type="checkbox" disabled class="task-checkbox h-4 w-4 rounded"><span>Build advanced user roles and permissions for enterprise hierarchies.</span></label>
                            </div>
                        </div>
                    </div>
                </details>
             </div>
        </section>

    </main>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'dark' });
    </script>
    <footer class="text-center py-10 mt-16 border-t border-gray-800">
        <p class="text-gray-400">&copy; 2024 TerraSYNC. All Rights Reserved.</p>
        <p class="text-gray-500 text-sm mt-1">This document is a confidential and proprietary operational blueprint.</p>
    </footer>

</body>
</html> 