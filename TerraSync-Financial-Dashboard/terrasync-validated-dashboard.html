<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERRASYNC - Validated Financial Analysis</title>
    
    <!-- External Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    
    <!-- CSS Styles -->
    <link rel="stylesheet" href="css/dashboard-styles.css">
    
    <style>
        .market-penetration-card {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 24px;
            margin: 16px 0;
        }
        
        .penetration-visual {
            display: flex;
            align-items: center;
            margin: 16px 0;
        }
        
        .penetration-bar {
            width: 300px;
            height: 20px;
            background-color: #374151;
            border-radius: 10px;
            overflow: hidden;
            margin-right: 16px;
        }
        
        .penetration-fill {
            height: 100%;
            background: linear-gradient(90deg, #22c55e, #16a34a);
            transition: width 0.8s ease-out;
        }
        
        .opportunity-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #374151;
        }
        
        .opportunity-metric:last-child {
            border-bottom: none;
        }
        
        .opportunity-value {
            font-weight: 600;
            color: #22c55e;
        }
        
        .reality-check {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            border-left: 4px solid #fbbf24;
        }
        
        .validated-metric {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            border-left: 4px solid #10b981;
        }
        
        .warning-flag {
            background: #fef3c7;
            color: #92400e;
            padding: 12px;
            border-radius: 6px;
            margin: 8px 0;
            border-left: 3px solid #f59e0b;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>TERRASYNC VALIDATED FINANCIAL ANALYSIS</h1>
            <p style="color: #9ca3af; font-size: 1.2rem;">Professional Investment Analysis | CORRECTED MODEL ‚Ä¢ Market Validation ‚Ä¢ Growth Projections</p>
        </div>
        
        <!-- TAB NAVIGATION -->
        <div class="tab-navigation">
            <div class="tab-btn active" onclick="switchTab('reality')">
                <i class="icon icon-check"></i> Current Reality
            </div>
            <div class="tab-btn" onclick="switchTab('market')">
                <i class="icon icon-target"></i> Market Opportunity
            </div>
            <div class="tab-btn" onclick="switchTab('projections')">
                <i class="icon icon-chart"></i> Growth Projections
            </div>
            <div class="tab-btn" onclick="switchTab('corrections')">
                <i class="icon icon-calculator"></i> Model Corrections
            </div>
        </div>
        
        <!-- CURRENT REALITY TAB -->
        <div id="reality" class="tab-content active">
            
            <div class="reality-check">
                <h3>üö® PREVIOUS MODEL CORRECTION</h3>
                <p><strong>Previous Dashboard Showed:</strong> $51,600/month revenue (WRONG - based on mature territories)</p>
                <p><strong>Actual Current Revenue:</strong> ~$5,000/month (based on 62 actual acres)</p>
                <p><strong>Issue:</strong> The $12K/territory "additional services" assumption was calculated for mature 1,500-acre territories, not current 31-acre average.</p>
            </div>
            
            <div class="validated-metric">
                <h3>‚úÖ VALIDATED CURRENT STATE</h3>
                <p><strong>Actual Business Data:</strong> Knoxville 50 acres + West Palm 12 acres = 62 total acres</p>
                <p><strong>Validated Revenue Streams:</strong> Service ($59/acre) + Installation ($700/acre) + Product Sales ($1,800/acre) + SaaS ($50/user)</p>
                <p><strong>Market Penetration:</strong> 0.27% of 23,000+ acre opportunity</p>
            </div>
            
            <div class="dashboard-grid">
                <div class="metrics-panel">
                    <div class="metric-card">
                        <div class="metric-value">$5,000</div>
                        <div class="metric-label">Actual Monthly Revenue</div>
                        <div class="metric-change">62 acres √ó $59 + new acre revenue + SaaS</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">62</div>
                        <div class="metric-label">Current Total Acres</div>
                        <div class="metric-change">Knoxville: 50 | West Palm: 12</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">2</div>
                        <div class="metric-label">Active Territories</div>
                        <div class="metric-change">Early stage operations</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">+$1,700</div>
                        <div class="metric-label">Monthly Cash Flow</div>
                        <div class="metric-change positive">Near break-even</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="section-title">Revenue Stream Breakdown (Current)</div>
                    <canvas id="currentRevenueChart" width="400" height="300"></canvas>
                </div>
            </div>
            
            <!-- Territory Economics Reality -->
            <div class="section">
                <div class="section-title">Territory Economics (Actual Data)</div>
                <div class="assumptions-grid">
                    <div class="assumption-card">
                        <div class="assumption-title">Current Territory Costs</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Knoxville (50 acres)</span>
                            <span class="assumption-value">$650/month (no employee yet)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">West Palm (12 acres)</span>
                            <span class="assumption-value">$650/month (no employee yet)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Employee Threshold</span>
                            <span class="assumption-value">300 acres (then +$3,250/month)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Total Current Costs</span>
                            <span class="assumption-value">$1,300/month</span>
                        </div>
                    </div>
                    
                    <div class="assumption-card">
                        <div class="assumption-title">Revenue Model (Validated)</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Service Revenue</span>
                            <span class="assumption-value">$59/acre/month ‚úÖ</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Installation Revenue</span>
                            <span class="assumption-value">$700/acre (one-time) ‚úÖ</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Product Sales</span>
                            <span class="assumption-value">$1,800/acre (one-time) ‚úÖ</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">SaaS Revenue</span>
                            <span class="assumption-value">$50/user (5% adoption) ‚úÖ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- MARKET OPPORTUNITY TAB -->
        <div id="market" class="tab-content">
            
            <div class="market-penetration-card">
                <h3>üìä MARKET PENETRATION ANALYSIS</h3>
                
                <div class="opportunity-metric">
                    <span>Total Addressable Market:</span>
                    <span class="opportunity-value">23,000+ acres</span>
                </div>
                
                <div class="opportunity-metric">
                    <span>Current Market Penetration:</span>
                    <span class="opportunity-value">0.27%</span>
                </div>
                
                <div class="penetration-visual">
                    <div class="penetration-bar">
                        <div class="penetration-fill" style="width: 0.27%;"></div>
                    </div>
                    <span style="color: #22c55e; font-weight: 600;">62 / 23,000 acres</span>
                </div>
                
                <div class="opportunity-metric">
                    <span>Growth Potential:</span>
                    <span class="opportunity-value">370x current size</span>
                </div>
                
                <div class="opportunity-metric">
                    <span>Market Value (Annual):</span>
                    <span class="opportunity-value">$16.3M (23,000 √ó $59 √ó 12)</span>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="section-title">Market Opportunity by Territory</div>
                    <canvas id="marketChart" width="600" height="400"></canvas>
                </div>
                
                <div class="metrics-panel">
                    <div class="metric-card">
                        <div class="metric-value">3,000+</div>
                        <div class="metric-label">Knoxville Addressable</div>
                        <div class="metric-change">1.7% penetration (50/3,000)</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">20,000+</div>
                        <div class="metric-label">West Palm Addressable</div>
                        <div class="metric-change">0.06% penetration (12/20,000)</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">$2.1M</div>
                        <div class="metric-label">Knoxville Annual TAM</div>
                        <div class="metric-change">3,000 acres √ó $59 √ó 12</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value">$14.2M</div>
                        <div class="metric-label">West Palm Annual TAM</div>
                        <div class="metric-change">20,000 acres √ó $59 √ó 12</div>
                    </div>
                </div>
            </div>
            
            <!-- Market Validation Sources -->
            <div class="section">
                <div class="section-title">Market Validation Sources</div>
                <div class="assumptions-grid">
                    <div class="assumption-card">
                        <div class="assumption-title">Knoxville Market (3,000+ acres)</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Golf Courses</span>
                            <span class="assumption-value">Multiple courses, hundreds of acres</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Corporate Offices</span>
                            <span class="assumption-value">Commercial properties, landscaping</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Municipal Properties</span>
                            <span class="assumption-value">Parks, public spaces</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">High-end Residential</span>
                            <span class="assumption-value">Large properties requiring irrigation</span>
                        </div>
                    </div>
                    
                    <div class="assumption-card">
                        <div class="assumption-title">West Palm Beach Market (20,000+ acres)</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Golf Courses</span>
                            <span class="assumption-value">Extensive golf community</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Resort Properties</span>
                            <span class="assumption-value">Hotels, resorts, commercial landscaping</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">High-end Residential</span>
                            <span class="assumption-value">Luxury properties with irrigation</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Commercial Properties</span>
                            <span class="assumption-value">Office complexes, retail centers</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- GROWTH PROJECTIONS TAB -->
        <div id="projections" class="tab-content">
            
            <div class="scenario-controls">
                <div class="time-slider-compact">
                    <i class="icon icon-calendar" style="color: #9ca3af; font-size: 0.85rem;"></i>
                    <input type="range" 
                           id="timeSlider" 
                           class="time-slider-small" 
                           min="0" 
                           max="60" 
                           value="0" 
                           oninput="updateProjections(this.value)">
                    <span style="color: #22c55e; font-size: 0.9rem; font-weight: 600; min-width: 100px;" id="currentMonth">Month 0 (Current)</span>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="section-title">Realistic Growth Trajectory</div>
                    <div class="chart-controls">
                        <button class="chart-btn active" onclick="switchChart('revenue')">Total Revenue</button>
                        <button class="chart-btn" onclick="switchChart('acres')">Total Acres</button>
                        <button class="chart-btn" onclick="switchChart('territories')">Territories</button>
                        <button class="chart-btn" onclick="switchChart('penetration')">Market Penetration</button>
                    </div>
                    <canvas id="projectionChart" width="800" height="400"></canvas>
                </div>
                
                <div class="metrics-panel">
                    <div class="metric-card">
                        <div class="metric-value" id="projectedRevenue">$5,000</div>
                        <div class="metric-label">Monthly Revenue</div>
                        <div class="metric-change" id="revenueGrowth">Current state</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="projectedAcres">62</div>
                        <div class="metric-label">Total Acres</div>
                        <div class="metric-change" id="acresGrowth">Starting point</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="projectedTerritories">2</div>
                        <div class="metric-label">Active Territories</div>
                        <div class="metric-change" id="territoryGrowth">Knoxville + West Palm</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-value" id="projectedPenetration">0.27%</div>
                        <div class="metric-label">Market Penetration</div>
                        <div class="metric-change" id="penetrationGrowth">Massive opportunity</div>
                    </div>
                </div>
            </div>
            
            <!-- Territory Maturity Model -->
            <div class="section">
                <div class="section-title">Territory Maturity Timeline</div>
                <div class="assumptions-grid">
                    <div class="assumption-card">
                        <div class="assumption-title">Year 1: Aggressive Growth</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Target</span>
                            <span class="assumption-value">200 acres per new territory</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Monthly Growth</span>
                            <span class="assumption-value">~17 acres/month</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Revenue Impact</span>
                            <span class="assumption-value">+$1,000/month (service only)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">One-time Revenue</span>
                            <span class="assumption-value">+$2,500/acre (install + product)</span>
                        </div>
                    </div>
                    
                    <div class="assumption-card">
                        <div class="assumption-title">Years 2-3: Steady Growth</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Target</span>
                            <span class="assumption-value">500-1,000 acres per territory</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Monthly Growth</span>
                            <span class="assumption-value">8-10 acres/month</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Employee Addition</span>
                            <span class="assumption-value">At 300 acres (+$3,250/month cost)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Profitability</span>
                            <span class="assumption-value">Strong positive cash flow</span>
                        </div>
                    </div>
                    
                    <div class="assumption-card">
                        <div class="assumption-title">Mature Territory (1,500 acres)</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Service Revenue</span>
                            <span class="assumption-value">$88,500/month</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">SaaS Revenue</span>
                            <span class="assumption-value">$15,000/month (300 users)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">New Acre Revenue</span>
                            <span class="assumption-value">$12,500/month (5 acres √ó $2,500)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Net to TerraSync</span>
                            <span class="assumption-value">~$67,000/month per territory</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- MODEL CORRECTIONS TAB -->
        <div id="corrections" class="tab-content">
            
            <div class="section">
                <div class="section-title">üîß Model Corrections Made</div>
                
                <div class="warning-flag">
                    <h4>‚ùå REMOVED: Misleading $12K/Territory Assumption</h4>
                    <p><strong>Problem:</strong> Original model assumed $12,000/month "additional services" per territory</p>
                    <p><strong>Reality:</strong> This was based on mature 1,500-acre territories, not current 31-acre average</p>
                    <p><strong>Impact:</strong> Overstated current revenue by 10x ($51,600 vs actual $5,000)</p>
                </div>
                
                <div class="validated-metric">
                    <h4>‚úÖ CORRECTED: Actual Current State</h4>
                    <p><strong>Real Data:</strong> Knoxville 50 acres + West Palm 12 acres = 62 total acres</p>
                    <p><strong>Real Revenue:</strong> 62 √ó $59 + new acre revenue + SaaS = ~$5,000/month</p>
                    <p><strong>Real Costs:</strong> 2 territories √ó $650 = $1,300/month (no employees yet)</p>
                </div>
                
                <div class="math-validation-grid">
                    <div class="math-card">
                        <div class="assumption-title">üî¢ CORRECTED CURRENT REVENUE</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Service Revenue</span>
                            <span class="assumption-value">62 acres √ó $59 = $3,658</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">New Acre Revenue (avg)</span>
                            <span class="assumption-value">5 acres √ó $2,500 = $1,250</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">SaaS Revenue</span>
                            <span class="assumption-value">3 users √ó $50 = $150</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">TOTAL (Actual)</span>
                            <span class="assumption-value positive">~$5,000/month</span>
                        </div>
                    </div>
                    
                    <div class="math-card">
                        <div class="assumption-title">üí∞ CORRECTED TERRITORY COSTS</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Knoxville Territory</span>
                            <span class="assumption-value">$650/month (base costs only)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">West Palm Territory</span>
                            <span class="assumption-value">$650/month (base costs only)</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">No Employees Yet</span>
                            <span class="assumption-value">Under 300 acre threshold</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">TOTAL (Actual)</span>
                            <span class="assumption-value">$1,300/month</span>
                        </div>
                    </div>
                    
                    <div class="math-card">
                        <div class="assumption-title">üìà MATURE TERRITORY PROJECTION</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Service Revenue (1,500 acres)</span>
                            <span class="assumption-value">1,500 √ó $59 = $88,500</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">SaaS Revenue (20% adoption)</span>
                            <span class="assumption-value">300 √ó $50 = $15,000</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">New Acre Revenue</span>
                            <span class="assumption-value">5 √ó $2,500 = $12,500</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Territory Total</span>
                            <span class="assumption-value positive">$116,000/month</span>
                        </div>
                    </div>
                    
                    <div class="math-card">
                        <div class="assumption-title">üéØ MARKET PENETRATION</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Current Penetration</span>
                            <span class="assumption-value">62 √∑ 23,000 = 0.27%</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Growth Potential</span>
                            <span class="assumption-value">23,000 √∑ 62 = 370x</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">At 10% Penetration</span>
                            <span class="assumption-value">2,300 acres = $1.6M/year</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Market Validation</span>
                            <span class="assumption-value positive">‚úÖ Massive opportunity</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Key Insights -->
            <div class="section">
                <div class="section-title">üö® Critical Business Insights</div>
                <div class="assumptions-grid">
                    <div class="assumption-card highlight">
                        <div class="assumption-title">Investment Story (Corrected)</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Current Reality</span>
                            <span class="assumption-value">Early stage, proven unit economics</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Market Opportunity</span>
                            <span class="assumption-value">370x growth potential</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Unit Economics</span>
                            <span class="assumption-value">$59/acre validated and profitable</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Scalability</span>
                            <span class="assumption-value">Territory model proven at small scale</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Risk Profile</span>
                            <span class="assumption-value">Low (proven market, clear demand)</span>
                        </div>
                    </div>
                    
                    <div class="assumption-card">
                        <div class="assumption-title">Next Steps for Growth</div>
                        <div class="assumption-row">
                            <span class="assumption-label">Immediate Focus</span>
                            <span class="assumption-value">Reach 300 acres in existing territories</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Territory Addition</span>
                            <span class="assumption-value">6-8 new territories per year</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">SaaS Launch</span>
                            <span class="assumption-value">Will significantly boost revenue</span>
                        </div>
                        <div class="assumption-row">
                            <span class="assumption-label">Market Penetration</span>
                            <span class="assumption-value">Target 5-10% in 5 years</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.closest('.tab-btn').classList.add('active');
            
            // Initialize charts for the tab
            if (tabName === 'reality') {
                initCurrentRevenueChart();
            } else if (tabName === 'market') {
                initMarketChart();
            } else if (tabName === 'projections') {
                initProjectionChart();
            }
        }
        
        // Chart initialization functions
        function initCurrentRevenueChart() {
            const ctx = document.getElementById('currentRevenueChart');
            if (!ctx) return;
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Service Revenue', 'Installation/Product', 'SaaS Revenue'],
                    datasets: [{
                        data: [3658, 1250, 150],
                        backgroundColor: ['#22c55e', '#3b82f6', '#8b5cf6'],
                        borderColor: ['#16a34a', '#2563eb', '#7c3aed'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#e5e7eb',
                                padding: 20
                            }
                        },
                        title: {
                            display: true,
                            text: 'Current Revenue Breakdown (~$5,000/month)',
                            color: '#e5e7eb'
                        }
                    }
                }
            });
        }
        
        function initMarketChart() {
            const ctx = document.getElementById('marketChart');
            if (!ctx) return;
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Knoxville Current', 'Knoxville Addressable', 'West Palm Current', 'West Palm Addressable'],
                    datasets: [{
                        label: 'Acres',
                        data: [50, 3000, 12, 20000],
                        backgroundColor: ['#22c55e', '#94a3b8', '#22c55e', '#94a3b8'],
                        borderColor: ['#16a34a', '#64748b', '#16a34a', '#64748b'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#e5e7eb'
                            },
                            grid: {
                                color: '#374151'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#e5e7eb'
                            },
                            grid: {
                                color: '#374151'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#e5e7eb'
                            }
                        }
                    }
                }
            });
        }
        
        function initProjectionChart() {
            const ctx = document.getElementById('projectionChart');
            if (!ctx) return;
            
            // Generate projection data
            const months = [];
            const revenue = [];
            const acres = [];
            const territories = [];
            
            for (let i = 0; i <= 60; i++) {
                months.push(i);
                
                // Territory count growth
                let territoryCount = 2;
                if (i >= 6) territoryCount = 3;
                if (i >= 12) territoryCount = 5;
                if (i >= 18) territoryCount = 8;
                if (i >= 24) territoryCount = 12;
                if (i >= 30) territoryCount = 18;
                if (i >= 36) territoryCount = 25;
                if (i >= 42) territoryCount = 32;
                if (i >= 48) territoryCount = 38;
                if (i >= 54) territoryCount = 42;
                if (i >= 60) territoryCount = 45;
                
                territories.push(territoryCount);
                
                // Acres growth (simplified)
                let totalAcres = 62 + (i * territoryCount * 15); // ~15 acres/month per territory
                acres.push(totalAcres);
                
                // Revenue calculation
                let monthlyRevenue = totalAcres * 59; // Service revenue
                monthlyRevenue += totalAcres * 0.1 * 50; // SaaS revenue (10% adoption)
                monthlyRevenue += territoryCount * 500; // New acre revenue (averaged)
                
                revenue.push(monthlyRevenue);
            }
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Monthly Revenue',
                        data: revenue,
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#e5e7eb',
                                callback: function(value) {
                                    return '$' + (value / 1000).toFixed(0) + 'K';
                                }
                            },
                            grid: {
                                color: '#374151'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Months',
                                color: '#e5e7eb'
                            },
                            ticks: {
                                color: '#e5e7eb'
                            },
                            grid: {
                                color: '#374151'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#e5e7eb'
                            }
                        }
                    }
                }
            });
        }
        
        function updateProjections(month) {
            document.getElementById('currentMonth').textContent = `Month ${month}`;
            
            // Update projected metrics based on month
            let territoryCount = 2;
            if (month >= 6) territoryCount = 3;
            if (month >= 12) territoryCount = 5;
            if (month >= 18) territoryCount = 8;
            if (month >= 24) territoryCount = 12;
            if (month >= 30) territoryCount = 18;
            if (month >= 36) territoryCount = 25;
            if (month >= 42) territoryCount = 32;
            if (month >= 48) territoryCount = 38;
            if (month >= 54) territoryCount = 42;
            if (month >= 60) territoryCount = 45;
            const totalAcres = 62 + (month * territoryCount * 15);
            const monthlyRevenue = totalAcres * 59 + totalAcres * 0.1 * 50 + territoryCount * 500;
            const penetration = (totalAcres / 23000 * 100).toFixed(2);
            
            document.getElementById('projectedRevenue').textContent = `$${(monthlyRevenue / 1000).toFixed(0)}K`;
            document.getElementById('projectedAcres').textContent = totalAcres.toFixed(0);
            document.getElementById('projectedTerritories').textContent = territoryCount;
            document.getElementById('projectedPenetration').textContent = `${penetration}%`;
        }
        
        function switchChart(type) {
            // Remove active class from all chart buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Update chart based on type
            // This would update the projection chart with different data
        }
        
        // Initialize default charts on page load
        document.addEventListener('DOMContentLoaded', function() {
            initCurrentRevenueChart();
        });
    </script>
</body>
</html> 